

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>f3_data_models.models &mdash; F3 Nation Data 0.1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/my_theme.css?v=a0fc712e" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=01f34227"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            F3 Nation Data
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../modules.html">models</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">F3 Nation Data</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Module code</a></li>
      <li class="breadcrumb-item active">f3_data_models.models</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for f3_data_models.models</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span><span class="w"> </span><span class="nn">enum</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">date</span><span class="p">,</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">time</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">citext</span><span class="w"> </span><span class="kn">import</span> <span class="n">CIText</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sqlalchemy</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">ARRAY</span><span class="p">,</span>
    <span class="n">JSON</span><span class="p">,</span>
    <span class="n">REAL</span><span class="p">,</span>
    <span class="n">TEXT</span><span class="p">,</span>
    <span class="n">TIME</span><span class="p">,</span>
    <span class="n">UUID</span><span class="p">,</span>
    <span class="n">VARCHAR</span><span class="p">,</span>
    <span class="n">Boolean</span><span class="p">,</span>
    <span class="n">DateTime</span><span class="p">,</span>
    <span class="n">Enum</span><span class="p">,</span>
    <span class="n">Float</span><span class="p">,</span>
    <span class="n">ForeignKey</span><span class="p">,</span>
    <span class="n">Index</span><span class="p">,</span>
    <span class="n">Integer</span><span class="p">,</span>
    <span class="n">UniqueConstraint</span><span class="p">,</span>
    <span class="n">Uuid</span><span class="p">,</span>
    <span class="n">func</span><span class="p">,</span>
    <span class="n">inspect</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sqlalchemy.dialects.postgresql</span><span class="w"> </span><span class="kn">import</span> <span class="n">JSONB</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sqlalchemy.orm</span><span class="w"> </span><span class="kn">import</span> <span class="p">(</span>
    <span class="n">DeclarativeBase</span><span class="p">,</span>
    <span class="n">Mapped</span><span class="p">,</span>
    <span class="n">mapped_column</span><span class="p">,</span>
    <span class="n">relationship</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sqlalchemy.orm.attributes</span><span class="w"> </span><span class="kn">import</span> <span class="n">InstrumentedAttribute</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing_extensions</span><span class="w"> </span><span class="kn">import</span> <span class="n">Annotated</span>

<span class="c1"># Custom Annotations</span>
<span class="n">time_notz</span> <span class="o">=</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">time</span><span class="p">,</span> <span class="n">TIME</span><span class="p">(</span><span class="n">timezone</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
<span class="n">time_with_tz</span> <span class="o">=</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">time</span><span class="p">,</span> <span class="n">TIME</span><span class="p">(</span><span class="n">timezone</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
<span class="n">ts_notz</span> <span class="o">=</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">datetime</span><span class="p">,</span> <span class="n">DateTime</span><span class="p">(</span><span class="n">timezone</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
<span class="n">text</span> <span class="o">=</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">TEXT</span><span class="p">]</span>
<span class="n">intpk</span> <span class="o">=</span> <span class="n">Annotated</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">autoincrement</span><span class="o">=</span><span class="kc">True</span><span class="p">)]</span>
<span class="n">dt_create</span> <span class="o">=</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">datetime</span><span class="p">,</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">DateTime</span><span class="p">,</span> <span class="n">server_default</span><span class="o">=</span><span class="n">func</span><span class="o">.</span><span class="n">timezone</span><span class="p">(</span><span class="s2">&quot;utc&quot;</span><span class="p">,</span> <span class="n">func</span><span class="o">.</span><span class="n">now</span><span class="p">()))]</span>
<span class="n">dt_update</span> <span class="o">=</span> <span class="n">Annotated</span><span class="p">[</span>
    <span class="n">datetime</span><span class="p">,</span>
    <span class="n">mapped_column</span><span class="p">(</span>
        <span class="n">DateTime</span><span class="p">,</span>
        <span class="n">server_default</span><span class="o">=</span><span class="n">func</span><span class="o">.</span><span class="n">timezone</span><span class="p">(</span><span class="s2">&quot;utc&quot;</span><span class="p">,</span> <span class="n">func</span><span class="o">.</span><span class="n">now</span><span class="p">()),</span>
        <span class="n">server_onupdate</span><span class="o">=</span><span class="n">func</span><span class="o">.</span><span class="n">timezone</span><span class="p">(</span><span class="s2">&quot;utc&quot;</span><span class="p">,</span> <span class="n">func</span><span class="o">.</span><span class="n">now</span><span class="p">()),</span>
    <span class="p">),</span>
<span class="p">]</span>


<div class="viewcode-block" id="Codex_Submission_Status">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Codex_Submission_Status">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Codex_Submission_Status</span><span class="p">(</span><span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enum representing the status of a codex submission.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        pending</span>
<span class="sd">        approved</span>
<span class="sd">        rejected</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">pending</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">approved</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">rejected</span> <span class="o">=</span> <span class="mi">3</span></div>



<div class="viewcode-block" id="User_Status">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.User_Status">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">User_Status</span><span class="p">(</span><span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enum representing the status of a user.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        active</span>
<span class="sd">        inactive</span>
<span class="sd">        deleted</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">active</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">inactive</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">deleted</span> <span class="o">=</span> <span class="mi">3</span></div>



<div class="viewcode-block" id="Region_Role">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Region_Role">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Region_Role</span><span class="p">(</span><span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enum representing the roles within a region.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        user</span>
<span class="sd">        editor</span>
<span class="sd">        admin</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">user</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">editor</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">admin</span> <span class="o">=</span> <span class="mi">3</span></div>



<div class="viewcode-block" id="User_Role">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.User_Role">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">User_Role</span><span class="p">(</span><span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enum representing the roles of a user.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        user</span>
<span class="sd">        editor</span>
<span class="sd">        admin</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">user</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">editor</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">admin</span> <span class="o">=</span> <span class="mi">3</span></div>



<div class="viewcode-block" id="Update_Request_Status">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Update_Request_Status">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Update_Request_Status</span><span class="p">(</span><span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enum representing the status of an update request.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        pending</span>
<span class="sd">        approved</span>
<span class="sd">        rejected</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">pending</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">approved</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">rejected</span> <span class="o">=</span> <span class="mi">3</span></div>



<div class="viewcode-block" id="Day_Of_Week">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Day_Of_Week">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Day_Of_Week</span><span class="p">(</span><span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enum representing the days of the week.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">monday</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">tuesday</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">wednesday</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">thursday</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">friday</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="n">saturday</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="n">sunday</span> <span class="o">=</span> <span class="mi">6</span></div>



<div class="viewcode-block" id="Event_Cadence">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Event_Cadence">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Event_Cadence</span><span class="p">(</span><span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enum representing the cadence of an event.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        weekly</span>
<span class="sd">        monthly</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">weekly</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">monthly</span> <span class="o">=</span> <span class="mi">2</span></div>



<div class="viewcode-block" id="Achievement_Cadence">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Achievement_Cadence">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Achievement_Cadence</span><span class="p">(</span><span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enum representing the cadence of an achievement.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        weekly</span>
<span class="sd">        monthly</span>
<span class="sd">        quarterly</span>
<span class="sd">        yearly</span>
<span class="sd">        lifetime</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">weekly</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">monthly</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">quarterly</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">yearly</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="n">lifetime</span> <span class="o">=</span> <span class="mi">5</span></div>



<div class="viewcode-block" id="Achievement_Threshold_Type">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Achievement_Threshold_Type">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Achievement_Threshold_Type</span><span class="p">(</span><span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enum representing the type of threshold for an achievement.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        posts</span>
<span class="sd">        unique_aos</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">posts</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">unique_aos</span> <span class="o">=</span> <span class="mi">2</span></div>



<div class="viewcode-block" id="Org_Type">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Org_Type">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Org_Type</span><span class="p">(</span><span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enum representing the type of organization.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        ao</span>
<span class="sd">        region</span>
<span class="sd">        area</span>
<span class="sd">        sector</span>
<span class="sd">        nation</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">ao</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">region</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">area</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">sector</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="n">nation</span> <span class="o">=</span> <span class="mi">5</span></div>



<div class="viewcode-block" id="Event_Category">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Event_Category">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Event_Category</span><span class="p">(</span><span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enum representing the category of an event.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        first_f</span>
<span class="sd">        second_f</span>
<span class="sd">        third_f</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">first_f</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">second_f</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">third_f</span> <span class="o">=</span> <span class="mi">3</span></div>



<div class="viewcode-block" id="Request_Type">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Request_Type">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Request_Type</span><span class="p">(</span><span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enum representing the type of request.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        create_location</span>
<span class="sd">        create_event</span>
<span class="sd">        edit</span>
<span class="sd">        delete_event</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">create_location</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">create_event</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">edit</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">delete_event</span> <span class="o">=</span> <span class="mi">4</span></div>



<div class="viewcode-block" id="Base">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Base">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Base</span><span class="p">(</span><span class="n">DeclarativeBase</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Base class for all models, providing common methods.</span>

<span class="sd">    Methods:</span>
<span class="sd">        get_id: Get the primary key of the model.</span>
<span class="sd">        get: Get the value of a specified attribute.</span>
<span class="sd">        to_json: Convert the model instance to a JSON-serializable dictionary.</span>
<span class="sd">        __repr__: Get a string representation of the model instance.</span>
<span class="sd">        _update: Update the model instance with the provided fields.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">type_annotation_map</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span> <span class="n">JSON</span><span class="p">,</span>
    <span class="p">}</span>

<div class="viewcode-block" id="Base.get_id">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Base.get_id">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the primary key of the model.</span>

<span class="sd">        Returns:</span>
<span class="sd">            int: The primary key of the model.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">id</span></div>


<div class="viewcode-block" id="Base.get">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Base.get">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the value of a specified attribute.</span>

<span class="sd">        Args:</span>
<span class="sd">            attr (str): The name of the attribute.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Any: The value of the attribute if it exists, otherwise None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">attr</span> <span class="ow">in</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">key</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__table__</span><span class="o">.</span><span class="n">columns</span><span class="p">]:</span>
            <span class="k">return</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="Base.to_json">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Base.to_json">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Convert the model instance to a JSON-serializable dictionary.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: A dictionary representation of the model instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span><span class="n">c</span><span class="o">.</span><span class="n">key</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">key</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">__table__</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;created&quot;</span><span class="p">,</span> <span class="s2">&quot;updated&quot;</span><span class="p">]}</span></div>


    <span class="k">def</span><span class="w"> </span><span class="nf">to_update_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="n">InstrumentedAttribute</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="n">update_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">mapper</span> <span class="o">=</span> <span class="n">inspect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">mapper</span>

        <span class="c1"># Add simple attributes</span>
        <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">mapper</span><span class="o">.</span><span class="n">column_attrs</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">attr</span><span class="o">.</span><span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;created&quot;</span><span class="p">,</span> <span class="s2">&quot;updated&quot;</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">]:</span>
                <span class="n">update_dict</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>

        <span class="c1"># Add relationships</span>
        <span class="k">for</span> <span class="n">rel</span> <span class="ow">in</span> <span class="n">mapper</span><span class="o">.</span><span class="n">relationships</span><span class="p">:</span>
            <span class="n">related_value</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rel</span><span class="o">.</span><span class="n">key</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">related_value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">rel</span><span class="o">.</span><span class="n">uselist</span><span class="p">:</span>
                    <span class="n">update_dict</span><span class="p">[</span><span class="n">rel</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">related_value</span><span class="p">)</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">rel</span><span class="p">,</span> <span class="n">update_dict</span><span class="p">[</span><span class="n">rel</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">update_dict</span><span class="p">[</span><span class="n">rel</span><span class="p">]</span> <span class="o">=</span> <span class="n">related_value</span>
        <span class="k">return</span> <span class="n">update_dict</span>

<div class="viewcode-block" id="Base.__repr__">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Base.__repr__">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get a string representation of the model instance.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: A string representation of the model instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_json</span><span class="p">())</span></div>


<div class="viewcode-block" id="Base._update">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Base._update">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">_update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fields</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Update the model instance with the provided fields.</span>

<span class="sd">        Args:</span>
<span class="sd">            fields (dict): A dictionary of fields to update.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Base: The updated model instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">fields</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">attr_name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr_name</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span></div>
</div>



<div class="viewcode-block" id="SlackSpace">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.SlackSpace">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">SlackSpace</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing a Slack workspace.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        id (int): Primary Key of the model.</span>
<span class="sd">        team_id (str): The Slack-internal unique identifier for the Slack team.</span>
<span class="sd">        workspace_name (Optional[str]): The name of the Slack workspace.</span>
<span class="sd">        bot_token (Optional[str]): The bot token for the Slack workspace.</span>
<span class="sd">        settings (Optional[Dict[str, Any]]): Slack Bot settings for the Slack workspace.</span>
<span class="sd">        created (datetime): The timestamp when the record was created.</span>
<span class="sd">        updated (datetime): The timestamp when the record was last updated.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;slack_spaces&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">intpk</span><span class="p">]</span>
    <span class="n">team_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">VARCHAR</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">workspace_name</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">bot_token</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">settings</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]</span>
    <span class="n">created</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_create</span><span class="p">]</span>
    <span class="n">updated</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_update</span><span class="p">]</span></div>



<div class="viewcode-block" id="Role">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Role">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Role</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing a role. A role is a set of permissions that can be assigned to users.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        id (int): Primary Key of the model.</span>
<span class="sd">        name (str): The unique name of the role.</span>
<span class="sd">        description (Optional[text]): A description of the role.</span>
<span class="sd">        created (datetime): The timestamp when the record was created.</span>
<span class="sd">        updated (datetime): The timestamp when the record was last updated.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;roles&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">intpk</span><span class="p">]</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">VARCHAR</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">text</span><span class="p">]]</span>
    <span class="n">created</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_create</span><span class="p">]</span>
    <span class="n">updated</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_update</span><span class="p">]</span></div>



<div class="viewcode-block" id="Permission">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Permission">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Permission</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing a permission.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        id (int): Primary Key of the model.</span>
<span class="sd">        name (str): The name of the permission.</span>
<span class="sd">        description (Optional[text]): A description of the permission.</span>
<span class="sd">        created (datetime): The timestamp when the record was created.</span>
<span class="sd">        updated (datetime): The timestamp when the record was last updated.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;permissions&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">intpk</span><span class="p">]</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">text</span><span class="p">]]</span>
    <span class="n">created</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_create</span><span class="p">]</span>
    <span class="n">updated</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_update</span><span class="p">]</span></div>



<div class="viewcode-block" id="Role_x_Permission">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Role_x_Permission">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Role_x_Permission</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing the assignment of permissions to roles.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        role_id (int): The ID of the associated role.</span>
<span class="sd">        permission_id (int): The ID of the associated permission.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;roles_x_permissions&quot;</span>

    <span class="n">role_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;roles.id&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">permission_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;permissions.id&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div>



<div class="viewcode-block" id="Role_x_User_x_Org">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Role_x_User_x_Org">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Role_x_User_x_Org</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing the assignment of roles, users, and organizations.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        role_id (int): The ID of the associated role.</span>
<span class="sd">        user_id (int): The ID of the associated user.</span>
<span class="sd">        org_id (int): The ID of the associated organization.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;roles_x_users_x_org&quot;</span>

    <span class="n">role_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;roles.id&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">user_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;users.id&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">org_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;orgs.id&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div>



<div class="viewcode-block" id="Org">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Org">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Org</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing an organization. The same model is used for all levels of organization (AOs, Regions, etc.).</span>

<span class="sd">    Attributes:</span>
<span class="sd">        id (int): Primary Key of the model.</span>
<span class="sd">        parent_id (Optional[int]): The ID of the parent organization.</span>
<span class="sd">        org_type (Org_Type): The type of the organization.</span>
<span class="sd">        default_location_id (Optional[int]): The ID of the default location.</span>
<span class="sd">        name (str): The name of the organization.</span>
<span class="sd">        description (Optional[text]): A description of the organization.</span>
<span class="sd">        is_active (bool): Whether the organization is active.</span>
<span class="sd">        logo_url (Optional[str]): The URL of the organization&#39;s logo.</span>
<span class="sd">        website (Optional[str]): The organization&#39;s website.</span>
<span class="sd">        email (Optional[str]): The organization&#39;s email.</span>
<span class="sd">        twitter (Optional[str]): The organization&#39;s Twitter handle.</span>
<span class="sd">        facebook (Optional[str]): The organization&#39;s Facebook page.</span>
<span class="sd">        instagram (Optional[str]): The organization&#39;s Instagram handle.</span>
<span class="sd">        last_annual_review (Optional[date]): The date of the last annual review.</span>
<span class="sd">        meta (Optional[Dict[str, Any]]): Additional metadata for the organization.</span>
<span class="sd">        ao_count (int): The number of AOs associated with the organization. Defaults to 0, will be updated by triggers.</span>
<span class="sd">        created (datetime): The timestamp when the record was created.</span>
<span class="sd">        updated (datetime): The timestamp when the record was last updated.</span>

<span class="sd">        locations (Optional[List[Location]]): The locations associated with the organization. Probably only relevant for regions.</span>
<span class="sd">        event_types (Optional[List[EventType]]): The event types associated with the organization. Used to control which event types are available for selection at the region level.</span>
<span class="sd">        event_tags (Optional[List[EventTag]]): The event tags associated with the organization. Used to control which event tags are available for selection at the region level.</span>
<span class="sd">        achievements (Optional[List[Achievement]]): The achievements available within the organization.</span>
<span class="sd">        parent_org (Optional[Org]): The parent organization.</span>
<span class="sd">        slack_space (Optional[SlackSpace]): The associated Slack workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;orgs&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">autoincrement</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">parent_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;orgs.id&quot;</span><span class="p">))</span>
    <span class="n">org_type</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Org_Type</span><span class="p">]</span>
    <span class="n">default_location_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">text</span><span class="p">]]</span>
    <span class="n">is_active</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
    <span class="n">logo_url</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">website</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">email</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">twitter</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">facebook</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">instagram</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">last_annual_review</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">date</span><span class="p">]]</span>
    <span class="n">meta</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]</span>
    <span class="n">ao_count</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">created</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_create</span><span class="p">]</span>
    <span class="n">updated</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_update</span><span class="p">]</span>

    <span class="n">__table_args__</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">Index</span><span class="p">(</span><span class="s2">&quot;idx_orgs_parent_id&quot;</span><span class="p">,</span> <span class="s2">&quot;parent_id&quot;</span><span class="p">),</span>
        <span class="n">Index</span><span class="p">(</span><span class="s2">&quot;idx_orgs_org_type&quot;</span><span class="p">,</span> <span class="s2">&quot;org_type&quot;</span><span class="p">),</span>
        <span class="n">Index</span><span class="p">(</span><span class="s2">&quot;idx_orgs_is_active&quot;</span><span class="p">,</span> <span class="s2">&quot;is_active&quot;</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="n">locations</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="s2">&quot;Location&quot;</span><span class="p">]]]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s2">&quot;Location&quot;</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="s2">&quot;expunge&quot;</span><span class="p">)</span>
    <span class="n">event_types</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="s2">&quot;EventType&quot;</span><span class="p">]]]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span>
        <span class="s2">&quot;EventType&quot;</span><span class="p">,</span>
        <span class="n">primaryjoin</span><span class="o">=</span><span class="s2">&quot;or_(EventType.specific_org_id == Org.id, EventType.specific_org_id.is_(None))&quot;</span><span class="p">,</span>
        <span class="n">cascade</span><span class="o">=</span><span class="s2">&quot;expunge&quot;</span><span class="p">,</span>
        <span class="n">viewonly</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">event_tags</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="s2">&quot;EventTag&quot;</span><span class="p">]]]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span>
        <span class="s2">&quot;EventTag&quot;</span><span class="p">,</span>
        <span class="n">primaryjoin</span><span class="o">=</span><span class="s2">&quot;or_(EventTag.specific_org_id == Org.id, EventTag.specific_org_id.is_(None))&quot;</span><span class="p">,</span>
        <span class="n">cascade</span><span class="o">=</span><span class="s2">&quot;expunge&quot;</span><span class="p">,</span>
        <span class="n">viewonly</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">achievements</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="s2">&quot;Achievement&quot;</span><span class="p">]]]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span>
        <span class="s2">&quot;Achievement&quot;</span><span class="p">,</span>
        <span class="n">cascade</span><span class="o">=</span><span class="s2">&quot;expunge&quot;</span><span class="p">,</span>
        <span class="n">primaryjoin</span><span class="o">=</span><span class="s2">&quot;or_(Achievement.specific_org_id == Org.id, Achievement.specific_org_id.is_(None))&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">parent_org</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;Org&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="s2">&quot;Org&quot;</span><span class="p">,</span> <span class="n">remote_side</span><span class="o">=</span><span class="p">[</span><span class="nb">id</span><span class="p">],</span> <span class="n">cascade</span><span class="o">=</span><span class="s2">&quot;expunge&quot;</span><span class="p">)</span>
    <span class="n">slack_space</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="s2">&quot;SlackSpace&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span>
        <span class="s2">&quot;SlackSpace&quot;</span><span class="p">,</span> <span class="n">secondary</span><span class="o">=</span><span class="s2">&quot;orgs_x_slack_spaces&quot;</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="s2">&quot;expunge&quot;</span>
    <span class="p">)</span></div>



<div class="viewcode-block" id="EventType">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.EventType">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">EventType</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing an event type. Event types can be shared by regions or not, and should roll up into event categories.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        id (int): Primary Key of the model.</span>
<span class="sd">        name (str): The name of the event type.</span>
<span class="sd">        description (Optional[text]): A description of the event type.</span>
<span class="sd">        acronym (Optional[str]): Acronyms associated with the event type.</span>
<span class="sd">        event_category (Event_Category): The category of the event type (first_f, second_f, third_f).</span>
<span class="sd">        specific_org_id (Optional[int]): The ID of the specific organization.</span>
<span class="sd">        is_active (bool): Whether the event type is active. Default is True.</span>
<span class="sd">        created (datetime): The timestamp when the record was created.</span>
<span class="sd">        updated (datetime): The timestamp when the record was last updated.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;event_types&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">intpk</span><span class="p">]</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">text</span><span class="p">]]</span>
    <span class="n">acronym</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">event_category</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Event_Category</span><span class="p">]</span>
    <span class="n">specific_org_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;orgs.id&quot;</span><span class="p">))</span>
    <span class="n">is_active</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">Boolean</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">created</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_create</span><span class="p">]</span>
    <span class="n">updated</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_update</span><span class="p">]</span></div>



<div class="viewcode-block" id="EventType_x_Event">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.EventType_x_Event">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">EventType_x_Event</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing the association between events and event types. The intention is that a single event can be associated with multiple event types.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        event_id (int): The ID of the associated event.</span>
<span class="sd">        event_type_id (int): The ID of the associated event type.</span>

<span class="sd">        event (Event): The associated event.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;events_x_event_types&quot;</span>

    <span class="n">event_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;events.id&quot;</span><span class="p">,</span> <span class="n">onupdate</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">event_type_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;event_types.id&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">__table_args__</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">Index</span><span class="p">(</span><span class="s2">&quot;idx_events_x_event_types_event_id&quot;</span><span class="p">,</span> <span class="s2">&quot;event_id&quot;</span><span class="p">),</span>
        <span class="n">Index</span><span class="p">(</span><span class="s2">&quot;idx_events_x_event_types_event_type_id&quot;</span><span class="p">,</span> <span class="s2">&quot;event_type_id&quot;</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="n">event</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="s2">&quot;Event&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;event_x_event_types&quot;</span><span class="p">)</span></div>



<div class="viewcode-block" id="EventType_x_EventInstance">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.EventType_x_EventInstance">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">EventType_x_EventInstance</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing the association between event instances and event types. The intention is that a single event instance can be associated with multiple event types.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        event_instance_id (int): The ID of the associated event instance.</span>
<span class="sd">        event_type_id (int): The ID of the associated event type.</span>

<span class="sd">        event_instance (EventInstance): The associated event instance.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;event_instances_x_event_types&quot;</span>

    <span class="n">event_instance_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span>
        <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;event_instances.id&quot;</span><span class="p">,</span> <span class="n">onupdate</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>
    <span class="n">event_type_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;event_types.id&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">event_instance</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="s2">&quot;EventInstance&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;event_instances_x_event_types&quot;</span><span class="p">)</span></div>



<div class="viewcode-block" id="EventTag">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.EventTag">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">EventTag</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing an event tag. These are used to mark special events, such as anniversaries or special workouts.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        id (int): Primary Key of the model.</span>
<span class="sd">        name (str): The name of the event tag.</span>
<span class="sd">        description (Optional[text]): A description of the event tag.</span>
<span class="sd">        color (Optional[str]): The color used for the calendar.</span>
<span class="sd">        specific_org_id (Optional[int]): Used for custom tags for specific regions.</span>
<span class="sd">        created (datetime): The timestamp when the record was created.</span>
<span class="sd">        updated (datetime): The timestamp when the record was last updated.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;event_tags&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">intpk</span><span class="p">]</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">text</span><span class="p">]]</span>
    <span class="n">color</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">specific_org_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;orgs.id&quot;</span><span class="p">))</span>
    <span class="n">created</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_create</span><span class="p">]</span>
    <span class="n">updated</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_update</span><span class="p">]</span></div>



<div class="viewcode-block" id="EventTag_x_Event">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.EventTag_x_Event">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">EventTag_x_Event</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing the association between event tags and events. The intention is that a single event can be associated with multiple event tags.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        event_id (int): The ID of the associated event.</span>
<span class="sd">        event_tag_id (int): The ID of the associated event tag.</span>

<span class="sd">        event (Event): The associated event.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;event_tags_x_events&quot;</span>

    <span class="n">event_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;events.id&quot;</span><span class="p">,</span> <span class="n">onupdate</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">event_tag_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;event_tags.id&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">event</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="s2">&quot;Event&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;event_x_event_tags&quot;</span><span class="p">)</span></div>



<div class="viewcode-block" id="EventTag_x_EventInstance">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.EventTag_x_EventInstance">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">EventTag_x_EventInstance</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing the association between event tags and event instances. The intention is that a single event instance can be associated with multiple event tags.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        event_instance_id (int): The ID of the associated event instance.</span>
<span class="sd">        event_tag_id (int): The ID of the associated event tag.</span>

<span class="sd">        event_instance (EventInstance): The associated event instance.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;event_tags_x_event_instances&quot;</span>

    <span class="n">event_instance_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span>
        <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;event_instances.id&quot;</span><span class="p">,</span> <span class="n">onupdate</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>
    <span class="n">event_tag_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;event_tags.id&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">event_instance</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="s2">&quot;EventInstance&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;event_instances_x_event_tags&quot;</span><span class="p">)</span></div>



<div class="viewcode-block" id="Org_x_SlackSpace">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Org_x_SlackSpace">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Org_x_SlackSpace</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing the association between organizations and Slack workspaces. This is currently meant to be one to one, but theoretically could support multiple workspaces per organization.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        org_id (int): The ID of the associated organization.</span>
<span class="sd">        slack_space_id (str): The ID of the associated Slack workspace.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;orgs_x_slack_spaces&quot;</span>

    <span class="n">org_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;orgs.id&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">slack_space_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;slack_spaces.id&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div>



<div class="viewcode-block" id="Location">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Location">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Location</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing a location. Locations are expected to belong to a single organization (region).</span>

<span class="sd">    Attributes:</span>
<span class="sd">        id (int): Primary Key of the model.</span>
<span class="sd">        org_id (int): The ID of the associated organization.</span>
<span class="sd">        name (str): The name of the location.</span>
<span class="sd">        description (Optional[text]): A description of the location.</span>
<span class="sd">        is_active (bool): Whether the location is active.</span>
<span class="sd">        email (Optional[str]): A contact email address associated with the location.</span>
<span class="sd">        lat (Optional[float]): The latitude of the location.</span>
<span class="sd">        lon (Optional[float]): The longitude of the location.</span>
<span class="sd">        address_street (Optional[str]): The street address of the location.</span>
<span class="sd">        address_city (Optional[str]): The city of the location.</span>
<span class="sd">        address_state (Optional[str]): The state of the location.</span>
<span class="sd">        address_zip (Optional[str]): The ZIP code of the location.</span>
<span class="sd">        address_country (Optional[str]): The country of the location.</span>
<span class="sd">        meta (Optional[Dict[str, Any]]): Additional metadata for the location.</span>
<span class="sd">        created (datetime): The timestamp when the record was created.</span>
<span class="sd">        updated (datetime): The timestamp when the record was last updated.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;locations&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">intpk</span><span class="p">]</span>
    <span class="n">org_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;orgs.id&quot;</span><span class="p">))</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">text</span><span class="p">]]</span>
    <span class="n">is_active</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
    <span class="n">email</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">latitude</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">Float</span><span class="p">(</span><span class="n">precision</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">decimal_return_scale</span><span class="o">=</span><span class="mi">5</span><span class="p">))</span>
    <span class="n">longitude</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">Float</span><span class="p">(</span><span class="n">precision</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">decimal_return_scale</span><span class="o">=</span><span class="mi">5</span><span class="p">))</span>
    <span class="n">address_street</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">address_street2</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">address_city</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">address_state</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">address_zip</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">address_country</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">meta</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]</span>
    <span class="n">created</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_create</span><span class="p">]</span>
    <span class="n">updated</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_update</span><span class="p">]</span>

    <span class="n">__table_args__</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">Index</span><span class="p">(</span><span class="s2">&quot;idx_locations_org_id&quot;</span><span class="p">,</span> <span class="s2">&quot;org_id&quot;</span><span class="p">),</span>
        <span class="n">Index</span><span class="p">(</span><span class="s2">&quot;idx_locations_name&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">),</span>
        <span class="n">Index</span><span class="p">(</span><span class="s2">&quot;idx_locations_is_active&quot;</span><span class="p">,</span> <span class="s2">&quot;is_active&quot;</span><span class="p">),</span>
    <span class="p">)</span></div>



<div class="viewcode-block" id="Event">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Event">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Event</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing an event or series; the same model is used for both with a self-referential relationship for series.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        id (int): Primary Key of the model.</span>
<span class="sd">        org_id (int): The ID of the associated organization.</span>
<span class="sd">        location_id (Optional[int]): The ID of the associated location.</span>
<span class="sd">        series_id (Optional[int]): The ID of the associated event series.</span>
<span class="sd">        is_series (bool): Whether this record is a series or single occurrence. Default is False.</span>
<span class="sd">        is_active (bool): Whether the event is active. Default is True.</span>
<span class="sd">        highlight (bool): Whether the event is highlighted. Default is False.</span>
<span class="sd">        start_date (date): The start date of the event.</span>
<span class="sd">        end_date (Optional[date]): The end date of the event.</span>
<span class="sd">        start_time (Optional[str]): The start time of the event. Format is &#39;HHMM&#39;, 24-hour time, timezone naive.</span>
<span class="sd">        end_time (Optional[str]): The end time of the event. Format is &#39;HHMM&#39;, 24-hour time, timezone naive.</span>
<span class="sd">        day_of_week (Optional[Day_Of_Week]): The day of the week of the event.</span>
<span class="sd">        name (str): The name of the event.</span>
<span class="sd">        description (Optional[text]): A description of the event.</span>
<span class="sd">        email (Optional[str]): A contact email address associated with the event.</span>
<span class="sd">        recurrence_pattern (Optional[Event_Cadence]): The recurrence pattern of the event. Current options are &#39;weekly&#39; or &#39;monthly&#39;.</span>
<span class="sd">        recurrence_interval (Optional[int]): The recurrence interval of the event (e.g. every 2 weeks).</span>
<span class="sd">        index_within_interval (Optional[int]): The index within the recurrence interval. (e.g. 2nd Tuesday of the month).</span>
<span class="sd">        pax_count (Optional[int]): The number of participants.</span>
<span class="sd">        fng_count (Optional[int]): The number of first-time participants.</span>
<span class="sd">        meta (Optional[Dict[str, Any]]): Additional metadata for the event.</span>
<span class="sd">        created (datetime): The timestamp when the record was created.</span>
<span class="sd">        updated (datetime): The timestamp when the record was last updated.</span>

<span class="sd">        org (Org): The associated organization.</span>
<span class="sd">        location (Location): The associated location.</span>
<span class="sd">        event_types (List[EventType]): The associated event types.</span>
<span class="sd">        event_tags (Optional[List[EventTag]]): The associated event tags.</span>
<span class="sd">        event_x_event_types (List[EventType_x_Event]): The association between the event and event types.</span>
<span class="sd">        event_x_event_tags (Optional[List[EventTag_x_Event]]): The association between the event and event tags.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;events&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">intpk</span><span class="p">]</span>
    <span class="n">org_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;orgs.id&quot;</span><span class="p">))</span>
    <span class="n">location_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;locations.id&quot;</span><span class="p">))</span>
    <span class="n">series_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;events.id&quot;</span><span class="p">))</span>
    <span class="n">is_active</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">Boolean</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">highlight</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">Boolean</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">start_date</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">date</span><span class="p">]</span>
    <span class="n">end_date</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">date</span><span class="p">]]</span>
    <span class="n">start_time</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">end_time</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">day_of_week</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Day_Of_Week</span><span class="p">]]</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">text</span><span class="p">]]</span>
    <span class="n">email</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">recurrence_pattern</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Event_Cadence</span><span class="p">]]</span>
    <span class="n">recurrence_interval</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span>
    <span class="n">index_within_interval</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span>
    <span class="n">meta</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]</span>
    <span class="n">created</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_create</span><span class="p">]</span>
    <span class="n">updated</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_update</span><span class="p">]</span>

    <span class="n">__table_args__</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">Index</span><span class="p">(</span><span class="s2">&quot;idx_events_org_id&quot;</span><span class="p">,</span> <span class="s2">&quot;org_id&quot;</span><span class="p">),</span>
        <span class="n">Index</span><span class="p">(</span><span class="s2">&quot;idx_events_location_id&quot;</span><span class="p">,</span> <span class="s2">&quot;location_id&quot;</span><span class="p">),</span>
        <span class="n">Index</span><span class="p">(</span><span class="s2">&quot;idx_events_is_active&quot;</span><span class="p">,</span> <span class="s2">&quot;is_active&quot;</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="n">org</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Org</span><span class="p">]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="n">innerjoin</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="s2">&quot;expunge&quot;</span><span class="p">,</span> <span class="n">viewonly</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">location</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Location</span><span class="p">]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="n">innerjoin</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="s2">&quot;expunge&quot;</span><span class="p">,</span> <span class="n">viewonly</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">event_types</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">EventType</span><span class="p">]]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span>
        <span class="n">secondary</span><span class="o">=</span><span class="s2">&quot;events_x_event_types&quot;</span><span class="p">,</span>
        <span class="n">innerjoin</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">cascade</span><span class="o">=</span><span class="s2">&quot;expunge&quot;</span><span class="p">,</span>
        <span class="n">viewonly</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">event_tags</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">EventTag</span><span class="p">]]]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span>
        <span class="n">secondary</span><span class="o">=</span><span class="s2">&quot;event_tags_x_events&quot;</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="s2">&quot;expunge&quot;</span><span class="p">,</span> <span class="n">viewonly</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>
    <span class="n">event_x_event_types</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">EventType_x_Event</span><span class="p">]]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;event&quot;</span><span class="p">,</span>
        <span class="n">passive_deletes</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">cascade</span><span class="o">=</span><span class="s2">&quot;all, delete-orphan&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">event_x_event_tags</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">EventTag_x_Event</span><span class="p">]]]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;event&quot;</span><span class="p">,</span>
        <span class="n">passive_deletes</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">cascade</span><span class="o">=</span><span class="s2">&quot;all, delete-orphan&quot;</span><span class="p">,</span>
    <span class="p">)</span></div>



<div class="viewcode-block" id="EventInstance">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.EventInstance">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">EventInstance</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing an event instance (a single occurrence of an event).</span>

<span class="sd">    Attributes:</span>
<span class="sd">        id (int): Primary Key of the model.</span>
<span class="sd">        org_id (int): The ID of the associated organization.</span>
<span class="sd">        location_id (Optional[int]): The ID of the associated location.</span>
<span class="sd">        series_id (Optional[int]): The ID of the associated event series.</span>
<span class="sd">        is_active (bool): Whether the event is active. Default is True.</span>
<span class="sd">        highlight (bool): Whether the event is highlighted. Default is False.</span>
<span class="sd">        start_date (date): The start date of the event.</span>
<span class="sd">        end_date (Optional[date]): The end date of the event.</span>
<span class="sd">        start_time (Optional[str]): The start time of the event. Format is &#39;HHMM&#39;, 24-hour time, timezone naive.</span>
<span class="sd">        end_time (Optional[str]): The end time of the event. Format is &#39;HHMM&#39;, 24-hour time, timezone naive.</span>
<span class="sd">        name (str): The name of the event.</span>
<span class="sd">        description (Optional[text]): A description of the event.</span>
<span class="sd">        email (Optional[str]): A contact email address associated with the event.</span>
<span class="sd">        pax_count (Optional[int]): The number of participants.</span>
<span class="sd">        fng_count (Optional[int]): The number of first-time participants.</span>
<span class="sd">        preblast (Optional[text]): The pre-event announcement.</span>
<span class="sd">        backblast (Optional[text]): The post-event report.</span>
<span class="sd">        preblast_rich (Optional[Dict[str, Any]]): The rich text pre-event announcement (e.g. Slack message).</span>
<span class="sd">        backblast_rich (Optional[Dict[str, Any]]): The rich text post-event report (e.g. Slack message).</span>
<span class="sd">        preblast_ts (Optional[float]): The Slack post timestamp of the pre-event announcement.</span>
<span class="sd">        backblast_ts (Optional[float]): The Slack post timestamp of the post-event report.</span>
<span class="sd">        meta (Optional[Dict[str, Any]]): Additional metadata for the event.</span>
<span class="sd">        created (datetime): The timestamp when the record was created.</span>
<span class="sd">        updated (datetime): The timestamp when the record was last updated.</span>

<span class="sd">        org (Org): The associated organization.</span>
<span class="sd">        location (Location): The associated location.</span>
<span class="sd">        event_types (List[EventType]): The associated event types.</span>
<span class="sd">        event_tags (Optional[List[EventTag]]): The associated event tags.</span>
<span class="sd">        event_instances_x_event_types (List[EventType_x_EventInstance]): The association between the event and event types.</span>
<span class="sd">        event_instances_x_event_tags (Optional[List[EventTag_x_EventInstance]]): The association between the event and event tags.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;event_instances&quot;</span>
    <span class="n">__table_args__</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">Index</span><span class="p">(</span><span class="s2">&quot;idx_event_instances_org_id&quot;</span><span class="p">,</span> <span class="s2">&quot;org_id&quot;</span><span class="p">),</span>
        <span class="n">Index</span><span class="p">(</span><span class="s2">&quot;idx_event_instances_location_id&quot;</span><span class="p">,</span> <span class="s2">&quot;location_id&quot;</span><span class="p">),</span>
        <span class="n">Index</span><span class="p">(</span><span class="s2">&quot;idx_event_instances_is_active&quot;</span><span class="p">,</span> <span class="s2">&quot;is_active&quot;</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">intpk</span><span class="p">]</span>
    <span class="n">org_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;orgs.id&quot;</span><span class="p">))</span>
    <span class="n">location_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;locations.id&quot;</span><span class="p">))</span>
    <span class="n">series_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;events.id&quot;</span><span class="p">,</span> <span class="n">onupdate</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">))</span>
    <span class="n">is_active</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">Boolean</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">highlight</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">Boolean</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">start_date</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">date</span><span class="p">]</span>
    <span class="n">end_date</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">date</span><span class="p">]]</span>
    <span class="n">start_time</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">end_time</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">text</span><span class="p">]]</span>
    <span class="n">email</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">pax_count</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span>
    <span class="n">fng_count</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span>
    <span class="n">preblast</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">text</span><span class="p">]]</span>
    <span class="n">backblast</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">text</span><span class="p">]]</span>
    <span class="n">preblast_rich</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]</span>
    <span class="n">backblast_rich</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]</span>
    <span class="n">preblast_ts</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span>
    <span class="n">backblast_ts</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span>
    <span class="n">meta</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]</span>
    <span class="n">created</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_create</span><span class="p">]</span>
    <span class="n">updated</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_update</span><span class="p">]</span>

    <span class="n">__table_args__</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">Index</span><span class="p">(</span><span class="s2">&quot;idx_event_instances_org_id&quot;</span><span class="p">,</span> <span class="s2">&quot;org_id&quot;</span><span class="p">),</span>
        <span class="n">Index</span><span class="p">(</span><span class="s2">&quot;idx_event_instances_location_id&quot;</span><span class="p">,</span> <span class="s2">&quot;location_id&quot;</span><span class="p">),</span>
        <span class="n">Index</span><span class="p">(</span><span class="s2">&quot;idx_event_instances_is_active&quot;</span><span class="p">,</span> <span class="s2">&quot;is_active&quot;</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="n">org</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Org</span><span class="p">]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="n">innerjoin</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="s2">&quot;expunge&quot;</span><span class="p">,</span> <span class="n">viewonly</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">location</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Location</span><span class="p">]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="n">innerjoin</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="s2">&quot;expunge&quot;</span><span class="p">,</span> <span class="n">viewonly</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">event_types</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">EventType</span><span class="p">]]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span>
        <span class="n">secondary</span><span class="o">=</span><span class="s2">&quot;event_instances_x_event_types&quot;</span><span class="p">,</span>
        <span class="n">innerjoin</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">cascade</span><span class="o">=</span><span class="s2">&quot;expunge&quot;</span><span class="p">,</span>
        <span class="n">viewonly</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">event_tags</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">EventTag</span><span class="p">]]]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span>
        <span class="n">secondary</span><span class="o">=</span><span class="s2">&quot;event_tags_x_event_instances&quot;</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="s2">&quot;expunge&quot;</span><span class="p">,</span> <span class="n">viewonly</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>
    <span class="n">event_instances_x_event_types</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">EventType_x_EventInstance</span><span class="p">]]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;event_instance&quot;</span><span class="p">,</span>
        <span class="n">passive_deletes</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">cascade</span><span class="o">=</span><span class="s2">&quot;all, delete-orphan&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">event_instances_x_event_tags</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">EventTag_x_EventInstance</span><span class="p">]]]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;event_instance&quot;</span><span class="p">,</span>
        <span class="n">passive_deletes</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">cascade</span><span class="o">=</span><span class="s2">&quot;all, delete-orphan&quot;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">attendance</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="s2">&quot;Attendance&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;event_instance&quot;</span><span class="p">,</span>
        <span class="n">passive_deletes</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">cascade</span><span class="o">=</span><span class="s2">&quot;all, delete-orphan&quot;</span><span class="p">,</span>
    <span class="p">)</span></div>



<div class="viewcode-block" id="AttendanceType">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.AttendanceType">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">AttendanceType</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing an attendance type. Basic types are 1=&#39;PAX&#39;, 2=&#39;Q&#39;, 3=&#39;Co-Q&#39;</span>

<span class="sd">    Attributes:</span>
<span class="sd">        type (str): The type of attendance.</span>
<span class="sd">        description (Optional[str]): A description of the attendance type.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;attendance_types&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">intpk</span><span class="p">]</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">created</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_create</span><span class="p">]</span>
    <span class="n">updated</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_update</span><span class="p">]</span></div>



<div class="viewcode-block" id="Attendance_x_AttendanceType">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Attendance_x_AttendanceType">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Attendance_x_AttendanceType</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing the association between attendance and attendance types.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        attendance_id (int): The ID of the associated attendance.</span>
<span class="sd">        attendance_type_id (int): The ID of the associated attendance type.</span>

<span class="sd">        attendance (Attendance): The associated attendance.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;attendance_x_attendance_types&quot;</span>

    <span class="n">attendance_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;attendance.id&quot;</span><span class="p">,</span> <span class="n">onupdate</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">attendance_type_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;attendance_types.id&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">attendance</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="s2">&quot;Attendance&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;attendance_x_attendance_types&quot;</span><span class="p">)</span></div>



<div class="viewcode-block" id="User">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.User">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">User</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing a user.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        id (int): Primary Key of the model.</span>
<span class="sd">        f3_name (Optional[str]): The F3 name of the user.</span>
<span class="sd">        first_name (Optional[str]): The first name of the user.</span>
<span class="sd">        last_name (Optional[str]): The last name of the user.</span>
<span class="sd">        email (str): The email of the user.</span>
<span class="sd">        phone (Optional[str]): The phone number of the user.</span>
<span class="sd">        home_region_id (Optional[int]): The ID of the home region.</span>
<span class="sd">        avatar_url (Optional[str]): The URL of the user&#39;s avatar.</span>
<span class="sd">        meta (Optional[Dict[str, Any]]): Additional metadata for the user.</span>
<span class="sd">        email_verified (Optional[datetime]): The timestamp when the user&#39;s email was verified.</span>
<span class="sd">        status (UserStatus): The status of the user. Default is &#39;active&#39;.</span>
<span class="sd">        created (datetime): The timestamp when the record was created.</span>
<span class="sd">        updated (datetime): The timestamp when the record was last updated.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;users&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">intpk</span><span class="p">]</span>
    <span class="n">f3_name</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">first_name</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">last_name</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">email</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">CIText</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">phone</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">emergency_contact</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">emergency_phone</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">emergency_notes</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">home_region_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;orgs.id&quot;</span><span class="p">))</span>
    <span class="n">avatar_url</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">meta</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]</span>
    <span class="n">email_verified</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]]</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">User_Status</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">Enum</span><span class="p">(</span><span class="n">User_Status</span><span class="p">),</span> <span class="n">default</span><span class="o">=</span><span class="n">User_Status</span><span class="o">.</span><span class="n">active</span><span class="p">)</span>
    <span class="n">created</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_create</span><span class="p">]</span>
    <span class="n">updated</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_update</span><span class="p">]</span>

    <span class="n">home_region_org</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Org</span><span class="p">]]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="n">cascade</span><span class="o">=</span><span class="s2">&quot;expunge&quot;</span><span class="p">,</span> <span class="n">viewonly</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div>



<div class="viewcode-block" id="SlackUser">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.SlackUser">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">SlackUser</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing a Slack user.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        id (int): Primary Key of the model.</span>
<span class="sd">        slack_id (str): The Slack ID of the user.</span>
<span class="sd">        user_name (str): The username of the Slack user.</span>
<span class="sd">        email (str): The email of the Slack user.</span>
<span class="sd">        is_admin (bool): Whether the user is an admin.</span>
<span class="sd">        is_owner (bool): Whether the user is the owner.</span>
<span class="sd">        is_bot (bool): Whether the user is a bot.</span>
<span class="sd">        user_id (Optional[int]): The ID of the associated user.</span>
<span class="sd">        avatar_url (Optional[str]): The URL of the user&#39;s avatar.</span>
<span class="sd">        slack_team_id (str): The ID of the associated Slack team.</span>
<span class="sd">        strava_access_token (Optional[str]): The Strava access token of the user.</span>
<span class="sd">        strava_refresh_token (Optional[str]): The Strava refresh token of the user.</span>
<span class="sd">        strava_expires_at (Optional[datetime]): The expiration time of the Strava token.</span>
<span class="sd">        strava_athlete_id (Optional[int]): The Strava athlete ID of the user.</span>
<span class="sd">        meta (Optional[Dict[str, Any]]): Additional metadata for the Slack user.</span>
<span class="sd">        slack_updated (Optional[int]): The last update time of the Slack user.</span>
<span class="sd">        created (datetime): The timestamp when the record was created.</span>
<span class="sd">        updated (datetime): The timestamp when the record was last updated.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;slack_users&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">intpk</span><span class="p">]</span>
    <span class="n">slack_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">user_name</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">email</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">is_admin</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
    <span class="n">is_owner</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
    <span class="n">is_bot</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
    <span class="n">user_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;users.id&quot;</span><span class="p">))</span>
    <span class="n">avatar_url</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">slack_team_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">strava_access_token</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">strava_refresh_token</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">strava_expires_at</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]]</span>
    <span class="n">strava_athlete_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span>
    <span class="n">meta</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]</span>
    <span class="n">slack_updated</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span>
    <span class="n">created</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_create</span><span class="p">]</span>
    <span class="n">updated</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_update</span><span class="p">]</span></div>



<div class="viewcode-block" id="Attendance">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Attendance">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Attendance</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing an attendance record.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        id (int): Primary Key of the model.</span>
<span class="sd">        event_instance_id (int): The ID of the associated event instance.</span>
<span class="sd">        user_id (Optional[int]): The ID of the associated user.</span>
<span class="sd">        is_planned (bool): Whether this is planned attendance (True) vs actual attendance (False).</span>
<span class="sd">        meta (Optional[Dict[str, Any]]): Additional metadata for the attendance.</span>
<span class="sd">        created (datetime): The timestamp when the record was created.</span>
<span class="sd">        updated (datetime): The timestamp when the record was last updated.</span>

<span class="sd">        event_instance (EventInstance): The associated event instance.</span>
<span class="sd">        user (User): The associated user.</span>
<span class="sd">        slack_users (Optional[List[SlackUser]]): The associated Slack Users for this User (a User can be in multiple SlackSpaces).</span>
<span class="sd">        attendance_x_attendance_types (List[Attendance_x_AttendanceType]): The association between the attendance and attendance types.</span>
<span class="sd">        attendance_types (List[AttendanceType]): The associated attendance types.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;attendance&quot;</span>
    <span class="n">__table_args__</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">UniqueConstraint</span><span class="p">(</span><span class="s2">&quot;event_instance_id&quot;</span><span class="p">,</span> <span class="s2">&quot;user_id&quot;</span><span class="p">,</span> <span class="s2">&quot;is_planned&quot;</span><span class="p">),</span>
        <span class="n">Index</span><span class="p">(</span><span class="s2">&quot;idx_attendance_event_instance_id&quot;</span><span class="p">,</span> <span class="s2">&quot;event_instance_id&quot;</span><span class="p">),</span>
        <span class="n">Index</span><span class="p">(</span><span class="s2">&quot;idx_attendance_user_id&quot;</span><span class="p">,</span> <span class="s2">&quot;user_id&quot;</span><span class="p">),</span>
        <span class="n">Index</span><span class="p">(</span><span class="s2">&quot;idx_attendance_is_planned&quot;</span><span class="p">,</span> <span class="s2">&quot;is_planned&quot;</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">intpk</span><span class="p">]</span>
    <span class="n">event_instance_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;event_instances.id&quot;</span><span class="p">,</span> <span class="n">onupdate</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">))</span>
    <span class="n">user_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;users.id&quot;</span><span class="p">))</span>
    <span class="n">is_planned</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
    <span class="n">meta</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]</span>
    <span class="n">created</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_create</span><span class="p">]</span>
    <span class="n">updated</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_update</span><span class="p">]</span>

    <span class="n">event_instance</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">EventInstance</span><span class="p">]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="n">innerjoin</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="s2">&quot;expunge&quot;</span><span class="p">,</span> <span class="n">viewonly</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">user</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">User</span><span class="p">]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span><span class="n">innerjoin</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="s2">&quot;expunge&quot;</span><span class="p">,</span> <span class="n">viewonly</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">slack_users</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">SlackUser</span><span class="p">]]]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span>
        <span class="n">innerjoin</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="s2">&quot;expunge&quot;</span><span class="p">,</span> <span class="n">secondary</span><span class="o">=</span><span class="s2">&quot;users&quot;</span><span class="p">,</span> <span class="n">viewonly</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span>
    <span class="n">attendance_x_attendance_types</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Attendance_x_AttendanceType</span><span class="p">]]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span>
        <span class="n">back_populates</span><span class="o">=</span><span class="s2">&quot;attendance&quot;</span><span class="p">,</span> <span class="n">passive_deletes</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">cascade</span><span class="o">=</span><span class="s2">&quot;all, delete-orphan&quot;</span>
    <span class="p">)</span>
    <span class="n">attendance_types</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">AttendanceType</span><span class="p">]]</span> <span class="o">=</span> <span class="n">relationship</span><span class="p">(</span>
        <span class="n">secondary</span><span class="o">=</span><span class="s2">&quot;attendance_x_attendance_types&quot;</span><span class="p">,</span>
        <span class="n">innerjoin</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">cascade</span><span class="o">=</span><span class="s2">&quot;expunge&quot;</span><span class="p">,</span>
        <span class="n">viewonly</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span></div>



<div class="viewcode-block" id="Achievement">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Achievement">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Achievement</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing an achievement.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        id (int): Primary Key of the model.</span>
<span class="sd">        name (str): The name of the achievement.</span>
<span class="sd">        description (Optional[str]): A description of the achievement.</span>
<span class="sd">        image_url (Optional[str]): The URL of the achievement&#39;s image.</span>
<span class="sd">        specific_org_id (Optional[int]): The ID of the specific region if a custom achievement. If null, the achievement is available to all regions.</span>
<span class="sd">        is_active (bool): Whether the achievement is active. Default is True.</span>
<span class="sd">        auto_award (bool): Whether the achievement is automatically awarded or needs to be manually tagged. Default is False.</span>
<span class="sd">        auto_cadence (Optional[Achievement_Cadence]): The cadence for automatic awarding of the achievement.</span>
<span class="sd">        auto_threshold (Optional[int]): The threshold for automatic awarding of the achievement.</span>
<span class="sd">        auto_threshold_type (Optional[Achievement_Threshold_Type]): The type of threshold for automatic awarding of the achievement (&#39;posts&#39;, &#39;unique_aos&#39;, etc.).</span>
<span class="sd">        auto_filters (Optional[Dict[str, Any]]): Event filters for automatic awarding of the achievement. Should be a format like {&#39;include&#39;: [{&#39;event_type_id&#39;: [1, 2]}, {&#39;event_tag_id&#39;: [3]}], &#39;exclude&#39;: [{&#39;event_category&#39;: [&#39;third_f&#39;]}]}.</span>
<span class="sd">        created (datetime): The timestamp when the record was created.</span>
<span class="sd">        updated (datetime): The timestamp when the record was last updated.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;achievements&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">intpk</span><span class="p">]</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">image_url</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">specific_org_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;orgs.id&quot;</span><span class="p">))</span>
    <span class="n">is_active</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">Boolean</span><span class="p">,</span> <span class="n">server_default</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">auto_award</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">Boolean</span><span class="p">,</span> <span class="n">server_default</span><span class="o">=</span><span class="s2">&quot;false&quot;</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">auto_cadence</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Achievement_Cadence</span><span class="p">]]</span>
    <span class="n">auto_threshold_type</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Achievement_Threshold_Type</span><span class="p">]]</span>
    <span class="n">auto_threshold</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span>
    <span class="n">auto_filters</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">JSON</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span>
    <span class="n">meta</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">JSON</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span>
    <span class="n">created</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_create</span><span class="p">]</span>
    <span class="n">updated</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_update</span><span class="p">]</span></div>



<div class="viewcode-block" id="Achievement_x_User">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Achievement_x_User">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Achievement_x_User</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing the association between achievements and users.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        achievement_id (int): The ID of the associated achievement.</span>
<span class="sd">        user_id (int): The ID of the associated user.</span>
<span class="sd">        award_year (int): The year the achievement was awarded. Default is -1 (used for lifetime achievements).</span>
<span class="sd">        award_period (int): The period (ie week, month) the achievement was awarded in. Default is -1 (used for lifetime achievements).</span>
<span class="sd">        date_awarded (date): The date the achievement was awarded. Default is the current date.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;achievements_x_users&quot;</span>

    <span class="n">achievement_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;achievements.id&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">user_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;users.id&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">award_year</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">server_default</span><span class="o">=</span><span class="s2">&quot;-1&quot;</span><span class="p">)</span>
    <span class="n">award_period</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">server_default</span><span class="o">=</span><span class="s2">&quot;-1&quot;</span><span class="p">)</span>
    <span class="n">date_awarded</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">date</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">DateTime</span><span class="p">,</span> <span class="n">server_default</span><span class="o">=</span><span class="n">func</span><span class="o">.</span><span class="n">timezone</span><span class="p">(</span><span class="s2">&quot;utc&quot;</span><span class="p">,</span> <span class="n">func</span><span class="o">.</span><span class="n">now</span><span class="p">()))</span></div>



<div class="viewcode-block" id="Position">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Position">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Position</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing a position.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        name (str): The name of the position.</span>
<span class="sd">        description (Optional[str]): A description of the position.</span>
<span class="sd">        org_type (Optional[Org_Type]): The associated organization type. This is used to limit the positions available to certain types of organizations. If null, the position is available to all organization types.</span>
<span class="sd">        org_id (Optional[int]): The ID of the associated organization. This is used to limit the positions available to certain organizations. If null, the position is available to all organizations.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;positions&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">intpk</span><span class="p">]</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">description</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">org_type</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Org_Type</span><span class="p">]]</span>
    <span class="n">org_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;orgs.id&quot;</span><span class="p">))</span>
    <span class="n">created</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_create</span><span class="p">]</span>
    <span class="n">updated</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_update</span><span class="p">]</span></div>



<div class="viewcode-block" id="Position_x_Org_x_User">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Position_x_Org_x_User">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Position_x_Org_x_User</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing the association between positions, organizations, and users.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        position_id (int): The ID of the associated position.</span>
<span class="sd">        org_id (int): The ID of the associated organization.</span>
<span class="sd">        user_id (int): The ID of the associated user.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;positions_x_orgs_x_users&quot;</span>

    <span class="n">position_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;positions.id&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">org_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;orgs.id&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">user_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;users.id&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div>



<div class="viewcode-block" id="Expansion">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Expansion">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Expansion</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing an expansion.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        id (int): Primary Key of the model.</span>
<span class="sd">        area (str): The area of the expansion.</span>
<span class="sd">        pinned_lat (float): The pinned latitude of the expansion.</span>
<span class="sd">        pinned_lon (float): The pinned longitude of the expansion.</span>
<span class="sd">        user_lat (float): The user&#39;s latitude.</span>
<span class="sd">        user_lon (float): The user&#39;s longitude.</span>
<span class="sd">        interested_in_organizing (bool): Whether the user is interested in organizing.</span>
<span class="sd">        created (datetime): The timestamp when the record was created.</span>
<span class="sd">        updated (datetime): The timestamp when the record was last updated.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;expansions&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">intpk</span><span class="p">]</span>
    <span class="n">area</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">pinned_lat</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span>
    <span class="n">pinned_lon</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span>
    <span class="n">user_lat</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span>
    <span class="n">user_lon</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span>
    <span class="n">interested_in_organizing</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span>
    <span class="n">created</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_create</span><span class="p">]</span>
    <span class="n">updated</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_update</span><span class="p">]</span></div>



<div class="viewcode-block" id="Expansion_x_User">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.Expansion_x_User">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Expansion_x_User</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing the association between expansions and users.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        expansion_id (int): The ID of the associated expansion.</span>
<span class="sd">        user_id (int): The ID of the associated user.</span>
<span class="sd">        requst_date (date): The date of the request. Default is the current date.</span>
<span class="sd">        notes (Optional[text]): Additional notes for the association.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;expansions_x_users&quot;</span>

    <span class="n">expansion_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;expansions.id&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">user_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;users.id&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">request_date</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">date</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">DateTime</span><span class="p">,</span> <span class="n">server_default</span><span class="o">=</span><span class="n">func</span><span class="o">.</span><span class="n">timezone</span><span class="p">(</span><span class="s2">&quot;utc&quot;</span><span class="p">,</span> <span class="n">func</span><span class="o">.</span><span class="n">now</span><span class="p">()))</span>
    <span class="n">notes</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">text</span><span class="p">]]</span></div>



<div class="viewcode-block" id="NextAuthAccount">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.NextAuthAccount">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">NextAuthAccount</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing an authentication account.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        user_id (int): The ID of the associated user.</span>
<span class="sd">        type (text): The type of the account.</span>
<span class="sd">        provider (text): The provider of the account.</span>
<span class="sd">        provider_account_id (text): The provider account ID.</span>
<span class="sd">        refresh_token (Optional[text]): The refresh token.</span>
<span class="sd">        access_token (Optional[text]): The access token.</span>
<span class="sd">        expires_at (Optional[datetime]): The expiration time of the token.</span>
<span class="sd">        token_type (Optional[text]): The token type.</span>
<span class="sd">        scope (Optional[text]): The scope of the token.</span>
<span class="sd">        id_token (Optional[text]): The ID token.</span>
<span class="sd">        session_state (Optional[text]): The session state.</span>
<span class="sd">        created (datetime): The timestamp when the record was created.</span>
<span class="sd">        updated (datetime): The timestamp when the record was last updated.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;auth_accounts&quot;</span>

    <span class="n">user_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;users.id&quot;</span><span class="p">))</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">text</span><span class="p">]</span>  <span class="c1"># need adapter account_type?</span>
    <span class="n">provider</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">text</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">VARCHAR</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">provider_account_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">text</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">VARCHAR</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">refresh_token</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">text</span><span class="p">]]</span>
    <span class="n">access_token</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">text</span><span class="p">]]</span>
    <span class="n">expires_at</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]]</span>
    <span class="n">token_type</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">text</span><span class="p">]]</span>
    <span class="n">scope</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">text</span><span class="p">]]</span>
    <span class="n">id_token</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">text</span><span class="p">]]</span>
    <span class="n">session_state</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">text</span><span class="p">]]</span>
    <span class="n">created</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_create</span><span class="p">]</span>
    <span class="n">updated</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_update</span><span class="p">]</span></div>



<div class="viewcode-block" id="NextAuthSession">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.NextAuthSession">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">NextAuthSession</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing an authentication session.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        session_token (text): The session token.</span>
<span class="sd">        user_id (int): The ID of the associated user.</span>
<span class="sd">        expires (ts_notz): The expiration time of the session.</span>
<span class="sd">        created (datetime): The timestamp when the record was created.</span>
<span class="sd">        updated (datetime): The timestamp when the record was last updated.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;auth_sessions&quot;</span>

    <span class="n">session_token</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">text</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">TEXT</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">user_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;users.id&quot;</span><span class="p">,</span> <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">))</span>
    <span class="n">expires</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">ts_notz</span><span class="p">]</span>
    <span class="n">created</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_create</span><span class="p">]</span>
    <span class="n">updated</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_update</span><span class="p">]</span></div>



<div class="viewcode-block" id="NextAuthVerificationToken">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.NextAuthVerificationToken">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">NextAuthVerificationToken</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing an authentication verification token.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        identifier (text): The identifier of the token.</span>
<span class="sd">        token (text): The token.</span>
<span class="sd">        expires (ts_notz): The expiration time of the token.</span>
<span class="sd">        created (datetime): The timestamp when the record was created.</span>
<span class="sd">        updated (datetime): The timestamp when the record was last updated.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;auth_verification_tokens&quot;</span>

    <span class="n">identifier</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">text</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">VARCHAR</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">token</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">text</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">VARCHAR</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">expires</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">ts_notz</span><span class="p">]</span>
    <span class="n">created</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_create</span><span class="p">]</span>
    <span class="n">updated</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_update</span><span class="p">]</span></div>



<div class="viewcode-block" id="UpdateRequest">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.UpdateRequest">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">UpdateRequest</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing an update request.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        id (UUID): The ID of the update request.</span>
<span class="sd">        token (UUID): The token of the update request.</span>
<span class="sd">        region_id (int): The ID of the associated region.</span>
<span class="sd">        event_id (Optional[int]): The ID of the associated event.</span>
<span class="sd">        event_type_ids (Optional[List[int]]): The associated event type IDs.</span>
<span class="sd">        event_tag (Optional[str]): The associated event tag.</span>
<span class="sd">        event_series_id (Optional[int]): The ID of the associated event series.</span>
<span class="sd">        event_is_series (Optional[bool]): Whether the event is a series.</span>
<span class="sd">        event_is_active (Optional[bool]): Whether the event is active.</span>
<span class="sd">        event_highlight (Optional[bool]): Whether the event is highlighted.</span>
<span class="sd">        event_start_date (Optional[date]): The start date of the event.</span>
<span class="sd">        event_end_date (Optional[date]): The end date of the event.</span>
<span class="sd">        event_start_time (Optional[str]): The start time of the event. Format is &#39;HHMM&#39;, 24-hour time, timezone naive.</span>
<span class="sd">        event_end_time (Optional[str]): The end time of the event. Format is &#39;HHMM&#39;, 24-hour time, timezone naive.</span>
<span class="sd">        event_day_of_week (Optional[Day_Of_Week]): The day of the week of the event.</span>
<span class="sd">        event_name (str): The name of the event.</span>
<span class="sd">        event_description (Optional[text]): A description of the event.</span>
<span class="sd">        event_recurrence_pattern (Optional[Event_Cadence]): The recurrence pattern of the event.</span>
<span class="sd">        event_recurrence_interval (Optional[int]): The recurrence interval of the event.</span>
<span class="sd">        event_index_within_interval (Optional[int]): The index within the recurrence interval.</span>
<span class="sd">        event_meta (Optional[Dict[str, Any]]): Additional metadata for the event.</span>
<span class="sd">        event_contact_email (Optional[str]): The contact email of the event.</span>
<span class="sd">        location_name (Optional[text]): The name of the location.</span>
<span class="sd">        location_description (Optional[text]): A description of the location.</span>
<span class="sd">        location_address (Optional[text]): The address of the location.</span>
<span class="sd">        location_address2 (Optional[text]): The second address line of the location.</span>
<span class="sd">        location_city (Optional[text]): The city of the location.</span>
<span class="sd">        location_state (Optional[str]): The state of the location.</span>
<span class="sd">        location_zip (Optional[str]): The ZIP code of the location.</span>
<span class="sd">        location_country (Optional[str]): The country of the location.</span>
<span class="sd">        location_lat (Optional[float]): The latitude of the location.</span>
<span class="sd">        location_lng (Optional[float]): The longitude of the location.</span>
<span class="sd">        location_id (Optional[int]): The ID of the location.</span>
<span class="sd">        location_contact_email (Optional[str]): The contact email of the location.</span>
<span class="sd">        ao_id (Optional[int]): The ID of the associated AO.</span>
<span class="sd">        ao_name (Optional[text]): The name of the AO.</span>
<span class="sd">        ao_logo (Optional[text]): The URL of the AO logo.</span>
<span class="sd">        ao_website (Optional[text]): The website of the AO.</span>
<span class="sd">        submitted_by (str): The user who submitted the request.</span>
<span class="sd">        submitter_validated (Optional[bool]): Whether the submitter has validated the request. Default is False.</span>
<span class="sd">        reviewed_by (Optional[str]): The user who reviewed the request.</span>
<span class="sd">        reviewed_at (Optional[datetime]): The timestamp when the request was reviewed.</span>
<span class="sd">        status (Update_Request_Status): The status of the request. Default is &#39;pending&#39;.</span>
<span class="sd">        meta (Optional[Dict[str, Any]]): Additional metadata for the request.</span>
<span class="sd">        request_type (Request_Type): The type of the request.</span>
<span class="sd">        created (datetime): The timestamp when the record was created.</span>
<span class="sd">        updated (datetime): The timestamp when the record was last updated.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;update_requests&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Uuid</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">UUID</span><span class="p">(</span><span class="n">as_uuid</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">server_default</span><span class="o">=</span><span class="n">func</span><span class="o">.</span><span class="n">gen_random_uuid</span><span class="p">())</span>
    <span class="n">token</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Uuid</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">UUID</span><span class="p">(</span><span class="n">as_uuid</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">server_default</span><span class="o">=</span><span class="n">func</span><span class="o">.</span><span class="n">gen_random_uuid</span><span class="p">())</span>
    <span class="n">region_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;orgs.id&quot;</span><span class="p">))</span>
    <span class="n">event_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;events.id&quot;</span><span class="p">))</span>
    <span class="n">event_type_ids</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ARRAY</span><span class="p">(</span><span class="n">Integer</span><span class="p">))</span>
    <span class="n">event_tag</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">event_series_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span>
    <span class="n">event_is_series</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]]</span>
    <span class="n">event_is_active</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]]</span>
    <span class="n">event_highlight</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]]</span>
    <span class="n">event_start_date</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">date</span><span class="p">]]</span>
    <span class="n">event_end_date</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">date</span><span class="p">]]</span>
    <span class="n">event_start_time</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">event_end_time</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">event_day_of_week</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Day_Of_Week</span><span class="p">]]</span>
    <span class="n">event_name</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">event_description</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">text</span><span class="p">]]</span>
    <span class="n">event_recurrence_pattern</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Event_Cadence</span><span class="p">]]</span>
    <span class="n">event_recurrence_interval</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span>
    <span class="n">event_index_within_interval</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span>
    <span class="n">event_meta</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]</span>
    <span class="n">event_contact_email</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>

    <span class="n">location_name</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">text</span><span class="p">]]</span>
    <span class="n">location_description</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">text</span><span class="p">]]</span>
    <span class="n">location_address</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">text</span><span class="p">]]</span>
    <span class="n">location_address2</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">text</span><span class="p">]]</span>
    <span class="n">location_city</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">text</span><span class="p">]]</span>
    <span class="n">location_state</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">location_zip</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">location_country</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">location_lat</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">REAL</span><span class="p">())</span>
    <span class="n">location_lng</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">REAL</span><span class="p">())</span>
    <span class="n">location_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;locations.id&quot;</span><span class="p">))</span>
    <span class="n">location_contact_email</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>

    <span class="n">ao_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;orgs.id&quot;</span><span class="p">))</span>
    <span class="n">ao_name</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">text</span><span class="p">]]</span>
    <span class="n">ao_logo</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">text</span><span class="p">]]</span>
    <span class="n">ao_website</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">text</span><span class="p">]]</span>

    <span class="n">submitted_by</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">text</span><span class="p">]</span>
    <span class="n">submitter_validated</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">Boolean</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">reviewed_by</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">text</span><span class="p">]]</span>
    <span class="n">reviewed_at</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]]</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Update_Request_Status</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span>
        <span class="n">Enum</span><span class="p">(</span><span class="n">Update_Request_Status</span><span class="p">),</span> <span class="n">default</span><span class="o">=</span><span class="n">Update_Request_Status</span><span class="o">.</span><span class="n">pending</span>
    <span class="p">)</span>
    <span class="n">meta</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]]</span>
    <span class="n">request_type</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Request_Type</span><span class="p">]</span>
    <span class="n">created</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_create</span><span class="p">]</span>
    <span class="n">updated</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_update</span><span class="p">]</span></div>



<span class="c1"># -- Main table for entries</span>
<span class="c1"># CREATE TABLE IF NOT EXISTS codex_entries (</span>
<span class="c1">#   id SERIAL PRIMARY KEY,</span>
<span class="c1">#   title VARCHAR(255) NOT NULL,</span>
<span class="c1">#   definition TEXT NOT NULL,</span>
<span class="c1">#   type VARCHAR(50) NOT NULL,</span>
<span class="c1">#   aliases JSONB DEFAULT &#39;[]&#39;::jsonb,</span>
<span class="c1">#   video_link TEXT,</span>
<span class="c1">#   updated_at TIMESTAMP NOT NULL DEFAULT now()</span>
<span class="c1"># );</span>

<span class="c1"># -- Tags used to categorize entries</span>
<span class="c1"># CREATE TABLE IF NOT EXISTS codex_tags (</span>
<span class="c1">#   id SERIAL PRIMARY KEY,</span>
<span class="c1">#   name VARCHAR(255) UNIQUE NOT NULL</span>
<span class="c1"># );</span>

<span class="c1"># -- Many-to-many relationship between entries and tags</span>
<span class="c1"># CREATE TABLE IF NOT EXISTS codex_entry_tags (</span>
<span class="c1">#   entry_id INTEGER NOT NULL REFERENCES entries(id) ON DELETE CASCADE,</span>
<span class="c1">#   tag_id INTEGER NOT NULL REFERENCES tags(id) ON DELETE CASCADE,</span>
<span class="c1">#   PRIMARY KEY (entry_id, tag_id)</span>
<span class="c1"># );</span>

<span class="c1"># -- User-submitted suggestions (entries, edits, tags, etc.)</span>
<span class="c1"># CREATE TABLE IF NOT EXISTS codex_user_submissions (</span>
<span class="c1">#   id SERIAL PRIMARY KEY,</span>
<span class="c1">#   submission_type VARCHAR(50) NOT NULL,</span>
<span class="c1">#   data JSONB NOT NULL,</span>
<span class="c1">#   submitter_name VARCHAR(255),</span>
<span class="c1">#   submitter_email VARCHAR(255),</span>
<span class="c1">#   timestamp TIMESTAMP NOT NULL DEFAULT now(),</span>
<span class="c1">#   status VARCHAR(50) NOT NULL DEFAULT &#39;pending&#39;</span>
<span class="c1"># );</span>

<span class="c1"># -- Internal linking between entries</span>

<span class="c1"># CREATE TABLE IF NOT EXISTS codex_references (</span>
<span class="c1">#   id SERIAL PRIMARY KEY,</span>
<span class="c1">#   from_entry_id INTEGER NOT NULL REFERENCES entries(id) ON DELETE CASCADE,</span>
<span class="c1">#   to_entry_id INTEGER NOT NULL REFERENCES entries(id) ON DELETE CASCADE,</span>
<span class="c1">#   context TEXT,</span>
<span class="c1">#   created_at TIMESTAMP NOT NULL DEFAULT now()</span>
<span class="c1"># );</span>


<div class="viewcode-block" id="CodexEntry">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.CodexEntry">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">CodexEntry</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing a Codex entry.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        id (int): Primary Key of the model.</span>
<span class="sd">        title (str): The title of the entry.</span>
<span class="sd">        definition (text): The definition of the entry.</span>
<span class="sd">        type (str): The type of the entry.</span>
<span class="sd">        aliases (Optional[List[str]]): Aliases for the entry.</span>
<span class="sd">        video_link (Optional[str]): A link to a video related to the entry.</span>
<span class="sd">        created (datetime): The timestamp when the record was created.</span>
<span class="sd">        updated (datetime): The timestamp when the record was last updated.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;codex_entries&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">intpk</span><span class="p">]</span>
    <span class="n">title</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">definition</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">text</span><span class="p">]</span>
    <span class="nb">type</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">aliases</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">JSONB</span><span class="p">,</span> <span class="n">server_default</span><span class="o">=</span><span class="s2">&quot;[]&quot;</span><span class="p">)</span>
    <span class="n">video_link</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">created</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_create</span><span class="p">]</span>
    <span class="n">updated</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_update</span><span class="p">]</span></div>



<div class="viewcode-block" id="CodexTag">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.CodexTag">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">CodexTag</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing a Codex tag.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        id (int): Primary Key of the model.</span>
<span class="sd">        name (str): The name of the tag.</span>
<span class="sd">        created (datetime): The timestamp when the record was created.</span>
<span class="sd">        updated (datetime): The timestamp when the record was last updated.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;codex_tags&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">intpk</span><span class="p">]</span>
    <span class="n">name</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">VARCHAR</span><span class="p">,</span> <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">nullable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">created</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_create</span><span class="p">]</span>
    <span class="n">updated</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_update</span><span class="p">]</span></div>



<div class="viewcode-block" id="CodexEntryTag">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.CodexEntryTag">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">CodexEntryTag</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing the association between Codex entries and tags.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        entry_id (int): The ID of the associated Codex entry.</span>
<span class="sd">        tag_id (int): The ID of the associated Codex tag.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;codex_entry_tags&quot;</span>

    <span class="n">entry_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;codex_entries.id&quot;</span><span class="p">,</span> <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">tag_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;codex_tags.id&quot;</span><span class="p">,</span> <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div>



<div class="viewcode-block" id="CodexUserSubmission">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.CodexUserSubmission">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">CodexUserSubmission</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing a user submission for the Codex.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        id (int): Primary Key of the model.</span>
<span class="sd">        submission_type (str): The type of the submission (e.g., &#39;entry&#39;, &#39;edit&#39;, &#39;tag&#39;).</span>
<span class="sd">        data (Dict[str, Any]): The data of the submission in JSON format.</span>
<span class="sd">        submitter_name (Optional[str]): The name of the submitter.</span>
<span class="sd">        submitter_email (Optional[str]): The email of the submitter.</span>
<span class="sd">        submitter_user_id (Optional[int]): The ID of the associated user, if available.</span>
<span class="sd">        timestamp (datetime): The timestamp when the submission was made.</span>
<span class="sd">        status (str): The status of the submission (e.g., &#39;pending&#39;, &#39;approved&#39;, &#39;rejected&#39;).</span>
<span class="sd">        created (datetime): The timestamp when the record was created.</span>
<span class="sd">        updated (datetime): The timestamp when the record was last updated.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;codex_user_submissions&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">intpk</span><span class="p">]</span>
    <span class="n">submission_type</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">JSON</span><span class="p">)</span>
    <span class="n">submitter_name</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">submitter_email</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">submitter_user_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;users.id&quot;</span><span class="p">))</span>
    <span class="n">timestamp</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_create</span><span class="p">]</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Codex_Submission_Status</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span>
        <span class="n">Enum</span><span class="p">(</span><span class="n">Codex_Submission_Status</span><span class="p">),</span> <span class="n">default</span><span class="o">=</span><span class="n">Codex_Submission_Status</span><span class="o">.</span><span class="n">pending</span>
    <span class="p">)</span>
    <span class="n">created</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_create</span><span class="p">]</span>
    <span class="n">updated</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_update</span><span class="p">]</span></div>



<div class="viewcode-block" id="CodexReference">
<a class="viewcode-back" href="../../models.html#f3_data_models.models.CodexReference">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">CodexReference</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Model representing a reference between Codex entries.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        id (int): Primary Key of the model.</span>
<span class="sd">        from_entry_id (int): The ID of the entry from which the reference originates.</span>
<span class="sd">        to_entry_id (int): The ID of the entry to which the reference points.</span>
<span class="sd">        context (Optional[str]): Context or description of the reference.</span>
<span class="sd">        created (datetime): The timestamp when the reference was created.</span>
<span class="sd">        updated (datetime): The timestamp when the record was last updated.</span>
<span class="sd">    &quot;&quot;&quot;</span>  <span class="c1"># noqa: E501</span>

    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;codex_references&quot;</span>

    <span class="nb">id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">intpk</span><span class="p">]</span>
    <span class="n">from_entry_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;codex_entries.id&quot;</span><span class="p">,</span> <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">))</span>
    <span class="n">to_entry_id</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="n">mapped_column</span><span class="p">(</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;codex_entries.id&quot;</span><span class="p">,</span> <span class="n">ondelete</span><span class="o">=</span><span class="s2">&quot;CASCADE&quot;</span><span class="p">))</span>
    <span class="n">context</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>
    <span class="n">created</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_create</span><span class="p">]</span>
    <span class="n">updated</span><span class="p">:</span> <span class="n">Mapped</span><span class="p">[</span><span class="n">dt_update</span><span class="p">]</span></div>

</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Evan Petzoldt.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>